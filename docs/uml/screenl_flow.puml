@startuml
title CardPro 画面遷移図（現行実装）

[*] --> HomePage : アプリ起動

HomePage --> CardListPage : "Cards" を選択
HomePage --> DeckListPage : "Decks" を選択
HomePage --> ContainerListPage : "Containers" を選択

CardListPage --> AddCardDialog : 追加（+ FAB）
AddCardDialog --> CardListPage : 登録完了

CardListPage --> CardInstancesPage : カード名をタップ
CardInstancesPage --> EditCardDialog : リスト項目をタップ（編集）
EditCardDialog --> CardInstancesPage : 保存/キャンセル
CardInstancesPage --> CardListPage : 戻る

DeckListPage --> DeckDetailPage : デッキをタップ
DeckDetailPage --> DeckListPage : 戻る

ContainerListPage --> ContainerDetailPage : コンテナをタップ
ContainerDetailPage --> ContainerListPage : 戻る

@enduml

@startuml
title デッキ使用フロー（重複カードの移動指示）

[*] --> DeckListPage

DeckListPage --> [*] : 「使用中にする」（重複なし）

DeckListPage --> MoveInstructionDialog : 「使用中にする」（重複あり）
note right of MoveInstructionDialog
  - 既存の使用中デッキにある同一インスタンスを検出
  - 表示: カード名 / 元デッキ名（場所）/ 移動先
  - 操作: [移動完了] または [キャンセル]
end note

MoveInstructionDialog --> DeckListPage : 移動完了
DeckListPage --> [*] : 選択デッキをアクティブ化

@enduml

